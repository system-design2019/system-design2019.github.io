webpackJsonp([0],{102:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(2),n(28);t.default={data:function(){return{newTitle:"",curr:0,pos:0,title:"",questions:[{mode:1,title:"试试",maxchoose:1,choices:[],fill:!1},{mode:2,title:"试试",maxchoose:1,choices:["选项1","选项2"],fill:!1}]}},methods:{addQues:function(e){var t=parseInt(e),n="题目"+String(this.questions.length+1);if(1===e){var s={mode:t,title:n,fill:!1};this.questions.push(s)}else{var i={mode:t,title:n,maxchoose:1,choices:["选项1","选项2"],fill:!1};this.questions.push(i)}},getMode:function(e){return 1===e?"填空题":"选择题"},addOption:function(){var e="选项"+String(this.questions[this.curr].choices.length+1);this.questions[this.curr].choices.push(e)},deleteOption:function(){this.questions[this.curr].choices.length>2?this.questions[this.curr].choices.pop():this.$Message.info("已经无法删除选项了~")},changeOrder:function(){var e=this.questions[this.curr],t=this.curr;if(this.curr=pos-1,this.questions.splice(t,1),1===this.pos)this.questions.unshift(e);else if(this.pos===this.questions.length+1)this.questions.push(e);else{for(var n=this.questions.length;n!=this.pos-1;)this.questions[n]=this.questions[n-1],n--;this.questions[n]=e}},deleteQues:function(){var e=this.curr;this.curr=0,this.questions.splice(e,1)},goahead:function(){var e={title:this.title,number:this.questions.length,questions:this.questions};this.$store.commit("Ques/createQues/SET_CONTENT",e),this.$emit("changeStep",1)}}}},103:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(2);n(28);t.default={data:function(){return{}},computed:n.i(s.b)("Ques/createQues",{formValidate:"formValidate"}),methods:{changeStep:function(e){this.$emit("changeStep",e)}}}},104:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(2),n(28);t.default={data:function(){return{ruleValidate:{detail:[{required:!1,trigger:"blur"}],command:[{required:!1,trigger:"blur"}],quantity:[{required:!0,trigger:"blur"},{type:"number",message:"输入必须为整数",trigger:"change",transform:function(e){return Number(e)}}],reward:[{required:!0,message:"报酬不能为空",trigger:"blur"},{type:"number",message:"输入必须为整数",trigger:"blur",transform:function(e){return Number(e)}}],info:[{required:!0,type:"array",min:1,message:"至少选择显示一个联系方式",trigger:"change"},{type:"array",trigger:"change"}],startdate:[{required:!0,type:"date",message:"Please select the date",trigger:"change"}],starttime:[{required:!0,type:"string",message:"Please select time",trigger:"change"}],enddate:[{required:!0,type:"date",message:"Please select the date",trigger:"change"}],endtime:[{required:!0,type:"string",message:"Please select time",trigger:"change"}]},formValidate:{title:"1111",detail:"",command:"",reward:0,quantity:0,info:[],startdate:"",starttime:"",enddate:"",endtime:"",number:0}}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?(t.$store.commit("Ques/createQues/SET_VALIDATE",t.formValidate),t.$emit("changeStep",1)):t.$Message.error("设置失败！请完善信息后再次尝试")})},handleReset:function(e){this.$refs[e].resetFields()},changeStep:function(e){this.$emit("changeStep",e)}}}},105:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(2),n(28);t.default={data:function(){return{}},mounted:function(){var e=this;setTimeout(function(){e.$router.push("/questionnaire")},3e3)}}},110:function(e,t){},112:function(e,t){},113:function(e,t){},115:function(e,t){},116:function(e,t){},131:function(e,t,n){e.exports=n.p+"b5da1528fa80f29a03b2139fd9943148.png"},133:function(e,t,n){n(115);var s=n(27)(n(102),n(147),null,null);s.options.__file="E:\\FILE_myself\\Learning\\juniorsecond\\system_design\\system-design\\frontend\\TimeIsMoney\\src\\views\\createQues\\EditQues.vue",s.esModule&&Object.keys(s.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] EditQues.vue: functional components are not supported with templates, they should use render functions."),e.exports=s.exports},134:function(e,t,n){n(110);var s=n(27)(n(103),n(140),null,null);s.options.__file="E:\\FILE_myself\\Learning\\juniorsecond\\system_design\\system-design\\frontend\\TimeIsMoney\\src\\views\\createQues\\Pay.vue",s.esModule&&Object.keys(s.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] Pay.vue: functional components are not supported with templates, they should use render functions."),e.exports=s.exports},135:function(e,t,n){n(116);var s=n(27)(n(104),n(148),null,null);s.options.__file="E:\\FILE_myself\\Learning\\juniorsecond\\system_design\\system-design\\frontend\\TimeIsMoney\\src\\views\\createQues\\SetQues.vue",s.esModule&&Object.keys(s.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] SetQues.vue: functional components are not supported with templates, they should use render functions."),e.exports=s.exports},136:function(e,t,n){n(112);var s=n(27)(n(105),n(142),null,null);s.options.__file="E:\\FILE_myself\\Learning\\juniorsecond\\system_design\\system-design\\frontend\\TimeIsMoney\\src\\views\\createQues\\Success.vue",s.esModule&&Object.keys(s.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] Success.vue: functional components are not supported with templates, they should use render functions."),e.exports=s.exports},140:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{width:"100%","text-align":"center"}},[s("img",{attrs:{src:n(131)}}),e._v(" "),s("p",{staticStyle:{"font-size":"20px","margin-top":"20px"}},[e._v("扫描二维码并支付"),s("span",{staticStyle:{"font-size":"20px",color:"#ce4545"}},[e._v("￥"+e._s(e.formValidate.reward*e.formValidate.quantity))])]),e._v(" "),s("p",[e._v("支付作为押金及填写酬金，未使用部分可退回")]),e._v(" "),s("Button",{on:{click:function(t){e.changeStep(1)}}},[e._v("手动下一步")])],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},142:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%","text-align":"center"}},[n("p",{staticStyle:{"font-size":"30px","font-weight":"700",margin:"20px 0"}},[e._v("发布成功")]),e._v(" "),n("p",[e._v("3s后自动跳转")])])}]},e.exports.render._withStripped=!0},144:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{margin:"0px 15%"}},[n("div",{staticStyle:{width:"100%",overflow:"hidden",height:"50px",position:"relative","margin-top":"20px"}},[n("div",{staticStyle:{width:"5%",float:"left"}},[n("Icon",{staticStyle:{float:"left",bottom:"5px"},attrs:{type:"ios-arrow-back",size:"24"},on:{click:function(t){e.alert=!e.alert}}})],1),e._v(" "),n("div",{staticStyle:{width:"95%",float:"right"}},[n("Steps",{attrs:{current:e.currentStep}},[n("Step",{attrs:{title:"问卷编辑",content:"编辑问卷内容"}}),e._v(" "),n("Step",{attrs:{title:"问卷设置",content:"设置问卷发布的相关参数"}}),e._v(" "),n("Step",{attrs:{title:"押金支付",content:"支付押金"}}),e._v(" "),n("Step",{attrs:{title:"发布成功",content:"发布成功"}})],1)],1)]),e._v(" "),n("div",{staticStyle:{"margin-top":"40px",overflow:"hidden"}},[e.showStep(0)?n("EditQues",{on:{changeStep:e.nextStep}}):e.showStep(1)?n("SetQues",{on:{changeStep:e.nextStep}}):e.showStep(2)?n("Pay",{on:{changeStep:e.nextStep}}):n("Success")],1),e._v(" "),n("Modal",{attrs:{title:"提示",styles:{top:"20px"}},on:{"on-ok":e.back},model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[n("p",[e._v("此时返回系统不会保存已经填写的内容。确认返回？")])])],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},147:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%"}},[n("div",{staticStyle:{overflow:"hidden"}},[n("div",{staticStyle:{float:"left",width:"10%",position:"relative； border: 2px"}},[n("Button",{staticStyle:{"margin-bottom":"10px"},on:{click:function(t){e.addQues(1)}}},[e._v("+填空题")]),e._v(" "),n("Button",{on:{click:function(t){e.addQues(2)}}},[e._v("+选择题")])],1),e._v(" "),n("div",{staticStyle:{float:"right",width:"90%"}},[n("div",{staticStyle:{float:"left",width:"70%",position:"relative",border:"2px #000000"}},[n("Input",{staticStyle:{"font-size":"28px",height:"40px",width:"100%"},attrs:{placeholder:"问卷标题"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),e._v(" "),n("Divider"),e._v(" "),n("div",e._l(e.questions,function(t,s){return n("Card",{key:s,staticStyle:{margin:"5px 0"},nativeOn:{click:function(t){e.curr=s}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.fill,expression:"q.fill"}],staticStyle:{color:"#ce4545"}},[e._v("* ")]),n("span",{staticStyle:{margin:"5px 5px 10px 0"}},[e._v(e._s(s+1)+"."+e._s(t.title))]),e._v(" "),1===t.mode?n("div",[n("Input")],1):n("div",e._l(t.choices,function(t,s){return n("Checkbox",{staticStyle:{width:"100%",margin:"5px 0"}},[e._v(e._s(t))])}))])}))],1),e._v(" "),n("div",{staticStyle:{float:"left",width:"30%",position:"relative",padding:"0 1%"}},[n("Card",[n("p",[e._v("类型："+e._s(e.getMode(e.questions[e.curr].mode)))]),n("Divider"),e._v(" "),n("p",[e._v("标题")]),n("Input",{model:{value:e.questions[e.curr].title,callback:function(t){e.$set(e.questions[e.curr],"title",t)},expression:"questions[curr].title"}}),n("Divider"),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:2===e.questions[e.curr].mode,expression:"questions[curr].mode === 2"}]},[e._l(e.questions[e.curr].choices,function(t,s){return n("div",{staticStyle:{margin:"15px 0"}},[n("span",[e._v("选项"+e._s(s+1)+":")]),n("Input",{model:{value:e.questions[e.curr].choices[s],callback:function(t){e.$set(e.questions[e.curr].choices,s,t)},expression:"questions[curr].choices[index]"}})],1)}),e._v(" "),n("Button",{on:{click:function(t){e.addOption()}}},[e._v("添加选项")]),e._v(" "),n("Button",{on:{click:function(t){e.deleteOption()}}},[e._v("移除选项")]),e._v(" "),n("div",{staticStyle:{"margin-top":"10px"}},[n("span",[e._v("最多可选：")]),n("InputNumber",{attrs:{max:e.questions[e.curr].choices.length,min:1},model:{value:e.questions[e.curr].maxchoose,callback:function(t){e.$set(e.questions[e.curr],"maxchoose",t)},expression:"questions[curr].maxchoose"}}),e._v(" "),n("Button",{on:{click:function(t){e.changeOrder()}}},[e._v("确定")])],1),e._v(" "),n("Divider")],2),e._v(" "),n("div",[n("span",[e._v("修改顺序：")]),n("InputNumber",{attrs:{max:e.questions.length,min:1},model:{value:e.pos,callback:function(t){e.pos=t},expression:"pos"}}),e._v(" "),n("Button",{on:{click:function(t){e.changeOrder()}}},[e._v("确定")]),n("Divider")],1),e._v(" "),n("div",[n("span",[e._v("必填：")]),n("i-switch",{model:{value:e.questions[e.curr].fill,callback:function(t){e.$set(e.questions[e.curr],"fill",t)},expression:"questions[curr].fill"}}),n("Divider")],1),e._v(" "),n("div",[n("Button",{on:{click:function(t){e.deleteQues()}}},[e._v("删除此问题")])],1)],1)],1)])]),e._v(" "),n("div",{staticStyle:{width:"100%","text-align":"center","margin-top":"20px"}},[n("Button",{on:{click:function(t){e.goahead()}}},[e._v("下一步")])],1)])},staticRenderFns:[]},e.exports.render._withStripped=!0},148:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%"}},[n("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":100}},[n("FormItem",{attrs:{label:"简介",prop:"detail"}},[n("Input",{attrs:{placeholder:"输入问卷简介"},model:{value:e.formValidate.detail,callback:function(t){e.$set(e.formValidate,"detail",t)},expression:"formValidate.detail"}})],1),e._v(" "),n("FormItem",{attrs:{label:"要求",prop:"command"}},[n("Input",{attrs:{placeholder:"输入问卷填写者限制，如：大学生"},model:{value:e.formValidate.command,callback:function(t){e.$set(e.formValidate,"command",t)},expression:"formValidate.command"}})],1),e._v(" "),n("FormItem",{attrs:{label:"酬金",prop:"reward"}},[n("Input",{attrs:{placeholder:"输入每份问卷填写报酬"},model:{value:e.formValidate.reward,callback:function(t){e.$set(e.formValidate,"reward",t)},expression:"formValidate.reward"}})],1),e._v(" "),n("FormItem",{attrs:{label:"招募数量",prop:"quantity"}},[n("Input",{attrs:{placeholder:"输入目标收集数量"},model:{value:e.formValidate.quantity,callback:function(t){e.$set(e.formValidate,"quantity",t)},expression:"formValidate.quantity"}})],1),e._v(" "),n("FormItem",{attrs:{label:"开始时间"}},[n("Row",[n("Col",{attrs:{span:"6"}},[n("FormItem",{attrs:{prop:"startdate"}},[n("DatePicker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.formValidate.startdate,callback:function(t){e.$set(e.formValidate,"startdate",t)},expression:"formValidate.startdate"}})],1)],1),e._v(" "),n("Col",{attrs:{span:"6"}},[n("FormItem",{attrs:{prop:"starttime"}},[n("TimePicker",{attrs:{type:"time",placeholder:"选择时间"},model:{value:e.formValidate.starttime,callback:function(t){e.$set(e.formValidate,"starttime",t)},expression:"formValidate.starttime"}})],1)],1)],1)],1),e._v(" "),n("FormItem",{attrs:{label:"结束时间"}},[n("Row",[n("Col",{attrs:{span:"6"}},[n("FormItem",{attrs:{prop:"enddate"}},[n("DatePicker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.formValidate.enddate,callback:function(t){e.$set(e.formValidate,"enddate",t)},expression:"formValidate.enddate"}})],1)],1),e._v(" "),n("Col",{attrs:{span:"6"}},[n("FormItem",{attrs:{prop:"endtime"}},[n("TimePicker",{attrs:{type:"time",placeholder:"选择时间"},model:{value:e.formValidate.endtime,callback:function(t){e.$set(e.formValidate,"endtime",t)},expression:"formValidate.endtime"}})],1)],1)],1)],1),e._v(" "),n("FormItem",{attrs:{label:"个人信息展示",prop:"info"}},[n("CheckboxGroup",{model:{value:e.formValidate.info,callback:function(t){e.$set(e.formValidate,"info",t)},expression:"formValidate.info"}},[n("Checkbox",{attrs:{label:"微信"}}),e._v(" "),n("Checkbox",{attrs:{label:"电话"}}),e._v(" "),n("Checkbox",{attrs:{label:"QQ"}}),e._v(" "),n("Checkbox",{attrs:{label:"个性签名"}})],1)],1),e._v(" "),n("FormItem",[n("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.handleReset("formValidate")}}},[e._v("Reset")])],1)],1),e._v(" "),n("div",{staticStyle:{width:"100%","text-align":"center","margin-top":"20px"}},[n("Button",{staticStyle:{"margin-right":"10px"},on:{click:function(t){e.changeStep(-1)}}},[e._v("上一步")]),n("Button",{on:{click:function(t){e.handleSubmit("formValidate")}}},[e._v("下一步")])],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},70:function(e,t,n){n(113);var s=n(27)(n(93),n(144),null,null);s.options.__file="E:\\FILE_myself\\Learning\\juniorsecond\\system_design\\system-design\\frontend\\TimeIsMoney\\src\\views\\CreateQues.vue",s.esModule&&Object.keys(s.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] CreateQues.vue: functional components are not supported with templates, they should use render functions."),e.exports=s.exports},93:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=(n(2),n(28),n(135)),i=n.n(s),r=n(133),o=n.n(r),a=n(134),l=n.n(a),u=n(136),c=n.n(u);t.default={data:function(){return{alert:!1,currentStep:0}},components:{SetQues:i.a,EditQues:o.a,Pay:l.a,Success:c.a},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?(console.log(1),t.$store.dispatch("Ques/createQues/POST_QUESTIONNAIRE",t.formValidate),t.$Message.success("发布成功!"),t.$router.push("questionnaire")):t.$Message.error("发布失败！请完善信息后再次尝试")})},showStep:function(e){return e===this.currentStep},handleReset:function(e){this.$refs[e].resetFields()},back:function(){var e=JSON.parse(window.sessionStorage.getItem("LogInfo")).userID;this.$router.push({name:"questionnaire",params:{id:e}})},nextStep:function(e){this.currentStep=this.currentStep+e}}}}});